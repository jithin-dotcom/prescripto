"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const concern_repositories_1 = require("../repositories/implementation/concern.repositories");
const concern_service_1 = require("../services/implementation/concern.service");
const concern_controller_1 = require("../controllers/implementation/concern.controller");
const auth_middleware_1 = require("../middlewares/auth.middleware");
const router = (0, express_1.Router)();
const concernRepository = new concern_repositories_1.ConcernRepository();
const concernService = new concern_service_1.ConcernService(concernRepository);
const concernController = new concern_controller_1.ConcernController(concernService);
router.use(auth_middleware_1.verifyAccessToken);
router.post("/raise-concern", concernController.createConcern.bind(concernController));
router.get("/get-allConcerns", concernController.getAllConcerns.bind(concernController));
router.patch("/update-concern/:id", concernController.updateStatus.bind(concernController));
router.get("/user-concerns", concernController.getConcernsByUser.bind(concernController));
exports.default = router;
